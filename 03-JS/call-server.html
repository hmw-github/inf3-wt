<!DOCTYPE html>
<html>
  <body>
  </body>
  <script>
    const collectionId = '1b2d7caa-d08c-4ee2-8b84-bc2373b69fc5';
    var token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiVG9tIiwiaWF0IjoxNzYyMzQ4MDQwfQ.CnzUvTuxj5Yay4d32iSV3IU5Z3r3lKfef4x7ea1qGio';
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            let data = JSON.parse(xmlhttp.responseText);
            console.log(data);
        }
    };
    xmlhttp.open("GET", `https://online-lectures-cs.thi.de/chat/${collectionId}/user`, true);
    // Add token, e. g., from Tom
    xmlhttp.setRequestHeader('Authorization', `Bearer ${token}`);
    xmlhttp.send();

    // Same code using Fetch API
    fetch(`https://online-lectures-cs.thi.de/chat/${collectionId}/user`, {
        method: 'GET',
        headers: {
            'Authorization': `Bearer ${token}`
        }
    })
    .then(response => response.json())
    .then(data => {
        console.log(data);
    })
    .catch(error => {
        console.error('Error:', error);
    });

    // Same code using Fetch API with async/await
    (async () => {
        try {
            const response = await fetch(`https://online-lectures-cs.thi.de/chat/${collectionId}/user`, {
                method: 'GET',
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });
            const data = await response.json();
            console.log(data);
        } catch (error) {
            console.error('Error:', error);
        }
    })();

  </script>
</html>